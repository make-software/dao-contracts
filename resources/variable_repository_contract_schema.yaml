name: "variable_repository_contract"

entry_points:
  - name: "change_ownership"
    arguments:
      - name: "owner"
        cl_type: "Address"

  - name: "add_to_whitelist"
    arguments:
      - name: "address"
        cl_type: "Address"

  - name: "remove_from_whitelist"
    arguments:
      - name: "address"
        cl_type: "Address"

  - name: "update_at"
    arguments:
      - name: "key"
        cl_type: "String"
      - name: "value"
        cl_type: "Bytes"
      - name: "activation_time"
        cl_type:
          - name: "Option"
            inner: "U64"

named_keys:
  - name: "owner"
    named_key: "accessowner"
    cl_type: "Option<Address>"

  - name: "whitelist"
    named_key: "whitelist"
    cl_type: "Mapping<Address, bool>"

  - name: "storage"
    named_key: "storage"
    cl_type: "Mapping<String, Option<Bytes>>"

  - name: "keys"
    named_key: "keys"
    cl_type: "Mapping<u32, Option<String>>"

  - name: "keys_length"
    named_key: "keys_length"
    cl_type: "Variable<u32>"

named_keys:
  - name: "owner"
    named_key: "access_control_owner_owner"
    cl_type: 
      - name: "Option"
        inner: "Address"

  - name: "whitelist"
    named_key: "access_control_whitelist_whitelist"
    cl_type:
      - name: "Mapping"
        key: "Address"
        value: "Bool"

  - name: "data"
    named_key: "repository_storage"
    cl_type:
      - name: "Mapping"
        key: "String"
        value:
          - name: "Tuple"
            first: "Bytes"
            second:
              - name: "Option"
                inner:
                  - name: "Tuple"
                    first: "Bytes"
                    second: "U64"

  - name: "keys"
    named_key: "repository_keys_values_mapping"
    cl_type:
      - name: "Mapping"
        key: "U32"
        value:
          - name: "Option"
            inner: "String"
